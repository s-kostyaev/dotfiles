\begin{center}
\textbf{\large{Введение}}
\end{center}
\addcontentsline{toc}{section}{Введение}

С каждым годом в тепличных предприятиях все большее внимание уделяется качественному поддержанию микроклимата. Правильно выбранная технология поддержания микроклимата - одна из важнейших составляющих, позволяющих повысить урожайность. А эффективное использование энергоресурсов - дополнительная возможность существенно уменьшить себестоимость производимой продукции. Современная автоматизированная система управления микроклиматом должна поддерживать не только заданный режим, но и максимально эффективно использовать возможности исполнительных систем.

В настоящее время ведется активная модернизация теплиц, связанная с повышением количества исполнительных систем: разделение контуров, модернизация форточной вентиляции, установка систем зашторивания, установка вентиляторов. И чем больше исполнительных систем имеет теплица, тем важнее для нее выбор критерия, определяющего стратегию поддержания микроклимата. Например, одним из наиболее популярных критериев управления является экономия теплоресурсов. В данном случае целесообразнее активно использовать нижние контура обогрева, т.к. они меньше всего отдают тепла внешней среде. Другой подход к выбору критерия предполагает поддержание температуры у точки роста выше, чем у корней растения и тем самым подразумевает активное использование верхних контуров обогрева. Еще один критерий управления основывается на том, что нижний контур должен поддерживать в корневой зоне постоянную температуру, так называемый оптимум, и лишь при исчерпанных ресурсах других исполнительных систем отклоняться от него.

Опыт внедрения автоматизированных систем управления показывает, что на этапе проектирования системы достаточно сложно выбрать единый критерий управления. Поэтому в системе управления должна существовать возможность оперативно задать критерий во время эксплуатации, причем методы его задания должны в наглядной форме отражать агрономические, экономические и технические требования, предъявляемые к системе. Таким образом, современная система управления должна позволять задать не только один из вышеперечисленных критериев управления или их комбинацию, но и любой другой возникающий в процессе производства, предоставляя агроному-технологу широкие возможности в выборе метода поддержания температурно-влажностного режима в теплице.

Одной из основных характеристик системы управления является ее надежность. Поэтому в качестве аппаратно-технической базы системы был выбран контроллер, который содержит современные средства защиты от сбоев: копию основных параметров работы системы в энергонезависимой памяти, средство защиты от зависаний и т.д. Помимо контроллера автоматизированная система управления микроклиматом включает в себя набор датчиков для измерения параметров внутри теплицы. Для передачи управляющих воздействий на исполнительные механизмы система включает в себя блок релейной коммутации с возможностью ручного управления.

Важным элементом системы управления является диагностика неисправностей и возможностей системы управления. Иногда в процессе эксплуатации случаются непредвиденные ситуации, связанные с нестабильностью температуры подаваемой воды, повышенным износом и люфтом исполнительного механизма или связанные с другого рода ограничениями, накладываемыми на исполнительные системы. Заложенные в систему методы диагностики должны выявлять нестандартные ситуации и своевременно перестраивать алгоритмы управления, поддерживая при этом параметры микроклимата с минимально возможным отклонением. При невозможности разрешения ситуации без участия человека, система выдает соответствующее аварийное сообщение.

\newpage
\section{Синтез автомата Мура}
\vspace{1cm}
\subsubsection*{Входные сигналы}

U1 \--- температура ниже нормы

U2 \--- температура выше нормы

U3 \--- влажность ниже нормы

U4 \--- влажность выше нормы

U5 -- сигнал таймера (заданный интервал истек)

\subsubsection*{Выходные сигналы}

V1 \--- включить обогрев (1 -- включен, 0 -- выключен)

V2 -- включить вентиляцию (1 -- включена, 0 -- выключена)

V3 -- включить систему орошения (1 -- включена, 0 -- выключена)

V4 -- включить таймер

V5 -- неисправна система отопления

V6 -- неисправна система орошения


\subsubsection*{Состояния}

Q0 -- система в режиме ожидания

Q1 -- система в состоянии нагрева

Q2 -- система зафиксировала неисправность системы отопления

Q3 -- включена система орошения

Q4 -- система зафиксировала неисправность системы орошения

Q5 -- включена вентиляция



\begin{figure}[ht]
\begin{center}
\includegraphics[width=16cm]{alg}
\caption{\label{ris:alg}Блок-схема микропрограммного автомата}
\end{center}
\end{figure}

\begin{figure}[ht]
\begin{center}
\includegraphics[width=12cm]{graph}
\caption{\label{ris:graph}Граф микропрограммного автомата}
\end{center}
\end{figure}

\begin{center}
\begin{longtable}{|c|c|c|c|}
%\kill
\caption{\label{tab:trig}Состояния триггеров микропрограммного автомата}
\hline
Состояние автомата & \multicolumn{3}{|cr|}{Состояние триггеров} \\
\hline
& триггер 3 & триггер 2 & триггер 1 \\
\hline
\endfirsthead
\caption*{Продолжение таблицы~\ref{tab:trig}}
\hline
Состояние автомата & \multicolumn{3}{|cr|}{Состояние триггеров} \\
\hline
& триггер 3 & триггер 2 & триггер 1 \\
\hline
\endhead
\endfoot
\endlastfoot
Q0 & 0 & 0 & 0 \\
\hline
Q1 & 0 & 0 & 1 \\
\hline
Q2 & 0 & 1 & 0 \\
\hline
Q3 & 0 & 1 & 1 \\
\hline
Q4 & 1 & 0 & 0 \\
\hline
Q5 & 1 & 0 & 1 \\
\hline
\end{longtable}
\end{center}


Логика формирования выходных сигналов:

V1 = Q1; V2=Q5; V3=Q3; V4=Q1+Q3+Q5; V5=Q2; V6=Q4.


\begin{center}
\begin{longtable}{|c|c|c|c|c|c|c|c|c|c|c|}
%\kill
\caption{\label{tab:upr}Синтезированная схема формирования управляющих сигналов}
\hline
Q & T3 & T2 & T1 & T3 & T2 & T1 & Условие & D3 & D2 & D1 \\
\hline
\endfirsthead
%\kill
\caption*{Продолжение таблицы~\ref{tab:upr}}
\hline
Q & T3 & T2 & T1 & T3 & T2 & T1 & Условие & D3 & D2 & D1 \\
\hline
\endhead
\endfoot
\endlastfoot
& & & & & & & & & &  \\
Q0 & 0 & 0 & 0 & 0 & 0 & 0 & $\bar{U1}\bar{U2}\bar{U3}\bar{U4}$ & 0 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q0 & 0 & 0 & 0 & 0 & 0 & 1 & $U1\bar{U2}$ & 0 & 0 & 1 \\
\hline
& & & & & & & & & &  \\
Q0 & 0 & 0 & 0 & 0 & 1 & 1 & $\bar{U1}\bar{U2}U3\bar{U4}$ & 0 & 1 & 1 \\
\hline
& & & & & & & & & &  \\
Q0 & 0 & 0 & 0 & 1 & 0 & 1 & $\bar{U1}\bar{U2}\bar{U3}U4+\bar{U1}U2$ & 1 & 0 & 1 \\
\hline
& & & & & & & & & &  \\
Q1 & 0 & 0 & 1 & 0 & 0 & 1 & $\bar{U5}$ & 0 & 0 & 1 \\
\hline
& & & & & & & & & &  \\
Q1 & 0 & 0 & 1 & 0 & 0 & 0 & $\bar{U1}\bar{U3}\bar{U4}U5$ & 0 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q1 & 0 & 0 & 1 & 0 & 1 & 0 & $U5U1$ & 0 & 1 & 0 \\
\hline
& & & & & & & & & &  \\
Q1 & 0 & 0 & 1 & 0 & 1 & 1 & $\bar{U1}U3\bar{U4}U5$ & 0 & 1 & 1 \\
\hline
& & & & & & & & & &  \\
Q1 & 0 & 0 & 1 & 1 & 0 & 1 & $\bar{U1}\bar{U3}U4U5$ & 1 & 0 & 1 \\
\hline
& & & & & & & & & &  \\
Q2 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q3 & 0 & 1 & 1 & 0 & 1 & 1 & $\bar{U5}$ & 0 & 1 & 1 \\
\hline
& & & & & & & & & &  \\
Q3 & 0 & 1 & 1 & 0 & 0 & 0 & $U5\bar{U3}$ & 0 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q3 & 0 & 1 & 1 & 1 & 0 & 0 & $U5U3$ & 1 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q4 & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\
\hline
& & & & & & & & & &  \\
Q5 & 1 & 0 & 1 & 1 & 0 & 1 & $\bar{U5}$ & 1 & 0 & 1 \\
\hline
& & & & & & & & & &  \\
Q5 & 1 & 0 & 1 & 0 & 0 & 0 & $U5$ & 0 & 0 & 0 \\
\hline
\end{longtable}
\end{center}

$$
D1=Q0(U1+U2+U3+U4)+Q1U5+Q1\bar{U5}(U1+U3+U4)+\bar{U5}(Q3+Q5)
$$

$$
D2=Q0\bar{U1}\bar{U2}U3\bar{U4}+Q1U5U3\bar{U4}+Q3\bar{U5}
$$

$$
D3=Q0\bar{U1}\bar{U3}U4+Q1\bar{U1}\bar{U3}U4U5+Q3U5U3+Q5\bar{U5}
$$


\newpage
\section{Расчет надежности}
\vspace{1cm}
\subsection{Общая часть}

На этом этапе проектирования будет произведён расчёт надёжности
устройства,
которая
является
одним
из
важнейших
параметров
функционирования любого электронного устройства.

В целом надёжность устройства определяется надёжностью каждого элемента
отдельно. Под надежностью понимают свойство того или иного объекта
сохранять во времени в установленных пределах значения всех параметров,
характеризующие нормальную работоспособность объекта.

Отказом называется полная или частичная утрата работоспособности
прибором. Главной частью понятия надёжности является понятие безотказности.
Безотказностью называют свойство прибора сохранять работоспособность в
течение заданного времени в определенных условиях эксплуатации.

Увеличение уровня интеграции интегральных микросхем ведет к повышению
надежности устройств за счет сокращения главным образом паяных и контактных
соединений, надежность которых на один-два порядка ниже по сравнению с
надежностью соединений в корпусе ИС. Причем по мере совершенствования
технологии число отказов ежегодно падает на 50-70 \%. Современные
полупроводниковые ИМС выдерживают эксплуатационные нагрузки в
следующих пределах: по температуре от -196 до +200°С; по вибропрочности и
виброустойчивости - до 100 в диапазоне частот (2...5)*10 3 Гц. Надежность
обеспечивается техническими и организационно-техническими мерами.
Технические меры обеспечения надежности содержат два основных направления:
обеспечение надежности ИС и конструкций РЭА. Организационно-технические
меры включают в себя проектные мероприятия.


\subsection{Подбор элементов}

При выборе микросхем для реализации принципиальной схемы
разработанного устройства был проведен анализ параметров микросхем
различных серий и структур, выпускаемой отечественной промышленностью.

На сегодняшний день выпускается множество серий цифровых микросхем,
основным различием которых является тип применяемой логики. Вообще
различают такие основные технологии: резисторно-связная логика (РСЛ),
эмиттерно-связная логика (ЭСЛ), диодно-транзисторная логика (ДТЛ),
транзисторно-транзисторная логика (ТТЛ) и др.

В результате проведенного анализа было принято решение о целесообразности
применения в данном устройстве микросхем технологии ТТЛ, поскольку
функциональный набор микросхем данной структуры содержит все необходимые
элементы для разработанной схемы. Ещё одно достоинство этой структуры
состоит в том, что напряжение питания для всех серий микросхем ТТЛ
одинаково, что упрощает решение вопроса питания всего устройства.

Приведем принципиальные схемы и количество необходимых микросхем,
примененных в данном устройстве

\subsubsection*{Элемент НЕ}

Микросхема К555ЛН1. Необходимое количество элементов — 5 штук. 1
микросхема содержит 6 элементов НЕ. Условное графическое обозначение изображено на~рис.~\ref{ris:el_ne}


\begin{figure}[ht]
\begin{center}
\includegraphics[width=4cm]{el_ne}
\caption{\label{ris:el_ne}Условное графическое обозначениe К555ЛН1}
\end{center}
\end{figure}

\subsubsection*{Элемент И}

Микросхема К155ЛИ1 . Необходимое количество элементов – 22 штуки. 1
микросхема содержит 4 элемента И. Условное графическое обозначение изображено на~рис.~\ref{ris:el_i}


\begin{figure}[ht]
\begin{center}
\includegraphics[width=5cm]{el_i}
\caption{\label{ris:el_i}Условное графическое обозначениe К155ЛИ1}
\end{center}
\end{figure}



\subsubsection*{Элемент ИЛИ}

Микросхема К155ЛЛ1 . Необходимое количество элементов – 16 штук. 1
микросхема содержит 4 элемента ИЛИ. Условное графическое обозначение изображено на~рис.~\ref{ris:el_ili}


\begin{figure}[ht]
\begin{center}
\includegraphics[width=2cm]{el_ili}
\caption{\label{ris:el_ili}Условное графическое обозначениe К155ЛЛ1}
\end{center}
\end{figure}



\subsubsection*{D-триггер}

Микросхема К155ТМ5. Необходимое количество элементов – 3 штуки. 1
микросхема содержит 4 элемента D-триггер. Условное графическое обозначение изображено на~рис.~\ref{ris:D-trig}


\begin{figure}[ht]
\begin{center}
\includegraphics[width=4.5cm]{D-trig}
\caption{\label{ris:D-trig}Условное графическое обозначениe К155ТМ5}
\end{center}
\end{figure}



\subsubsection*{Дешифратор}

Микросхема К155ИД12.Необходимое количество – 1 штука. 1 микросхема
содержит дешифратор на 3 входа и 8 выходов. Условное графическое
обозначение изображено на~рис.~\ref{ris:deshifr}


\begin{figure}[ht]
\begin{center}
\includegraphics[width=4.5cm]{deshifr}
\caption{\label{ris:deshifr}Условное графическое обозначениe К155ИД12}
\end{center}
\end{figure}



\subsection{Расчетная часть}

Количественная оценка надежности производиться с помощью различных
параметров. Чаще всего используется интенсивность отказов λ.

Данные о надежности ИМС определяются по формуле:

$$
\lambda=10^{-10}\cdot(413+6,66\cdot X+1,03 \cdot Y)[Ч^{-1}],
$$

где $X$ -- число элементов в МС, Y -- число выводов в ИМС.

Если время выражать в часах, то единица λ будет час в минус первой степени.
Таким образом, интенсивность отказов определяется как относительное число
элементов, отказавших за один час работы. Также необходимо учесть надежность
соединений:соединения контактные -- $10^{-7}$ ч$^{-1}$; соединение пайкой -- $10^{-9}$ ч$^{-1}$; провода
печатные или обычные в расчете на 1мм -- $10^{-9}$ ч$^{-1}$.

Для определения надежности спроектированного устройства необходимо знать
надежность всех использованных микросхем. Воспользовавшись формулой
определяют отдельно надежность каждой микросхемы:
\begin{axiomsession}

$$
\textbf{K555ЛН1:} \lambda=10^{-10}\cdot(413+6,66\cdot 6 +1,03\cdot 12 )~=\axiom{l1:=10^(-10)*(413+6.66*6+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l2:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l3:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l4:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l5:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l6:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛИ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 2 +1,03\cdot 6 )~=\axiom{l7:=10^(-10)*(413+6.66*2+1.03*6)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛЛ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l8:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛЛ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l9:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛЛ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l10:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K555ЛЛ1:} \lambda=10^{-10}\cdot(413+6,66\cdot 4 +1,03\cdot 12 )~=\axiom{l11:=10^(-10)*(413+6.66*4+1.03*12)} \textnormal{ч}^{-1}
$$

$$
\textbf{K155ТМ5:} \lambda=10^{-10}\cdot(413+6,66\cdot 3 +1,03\cdot 9 )~=\axiom{l12:=10^(-10)*(413+6.66*3+1.03*9)} \textnormal{ч}^{-1}
$$

$$
\textbf{K155ИД12:} \lambda=10^{-10}\cdot(413+6,66\cdot 1 +1,03\cdot 11 )~=\axiom{l13:=10^(-10)*(413+6.66*1+1.03*11)} \textnormal{ч}^{-1}
$$

Для получения надежности всей схемы необходимо сложить все полученные
результаты по расчетам надежности микросхем, получив тем самым общий
показатель интенсивности отказов данного проектируемого устройства:

$$
\lambda_{\textnormal{общ}}=\axiom{lsum:=l1+l2+l3+l4+l5+l6+l7+l8+l9+l10+l11+l12+l13}\textnormal{ч}^{-1};
$$

В начальной стадии проектирования системы обычно производят
приблизительный расчет ее надежности. Сущность расчета сводится к
определению количественных характеристик надежности:

Р(t) – вероятность безотказной работы в определенном интервале времени.

То – наработка на отказ, или среднее время безотказной работы
восстановленного изделия между отказами, т.е. математическое ожидание
времени исправной работы. Эта величина характеризует надежность однотипных
изделий до их первого отказа. Среднее время безотказной работы определяется по
формуле:

$$
T_0={1 \over {\lambda_{\textnormal{общ}}}} = \axiom{T0:=1/lsum}
$$

Вероятность безотказной работы:

$$
P(t)=e^{-\lambda_{общ}\cdot t}=e^{-{t \over T_0}}
$$

Анализ показывает, что все элементы, входящие в схему, влияют на безотказность
ее работы, таким образом, что схема с точки зрения надежности представляет
цепочку последовательно соединенных элементов.


\end{axiomsession}

\newpage
\begin{center}
\textbf{\large{Заключение}}
\end{center}
\addcontentsline{toc}{section}{Заключение}

При выполнении данного курсового проекта была разработана и рассчитана
система логического управления технологическими параметрами тепличного хозяйства.
Полученное устройство удовлетворяет условиям технического задания.


\newpage
\begin{thebibliography}{99}
\bibitem{kurs} \textbf{Робототехника:} Методические указания по курсовому проетированию / Ю.И.~Сулимов, Томский государственный университет систем управления и радиоэлектроники.~\--- Томск: 2007.~\--- 66~с.
\bibitem{mpsys} \textbf{Микропроцессорные системы. Архитектура и проектирование:} Учебное пособие / И.Г.~Анкудинов, СЗТУ~\--- СПб.,~2003
\bibitem{tepl} \textbf{Устройство теплиц и парников} / О.Б.~Бондарева, Аст~\--- Мск.: 2007.~\--- 97c

\end{thebibliography}

